$(document).ready(function(){$(".btn-cart").off().on("click",function(t){t.preventDefault();let e=$(".qty").val();$.ajax({method:"GET",url:$(this).attr("href"),data:{count:e},dataType:"json",success:function(t){t.success?($("#header-cart").text(t.count),$("#success_msg").text(t.message)):($("#success_msg").text(t.message),$("#success_msg").css("color","red"))}})}),$('#shipping-method input[type="radio"]').on("change",function(t){t.preventDefault(),$('input[name="shipping-method"]').val($(this).next().text())}),$("#payment_method .card-header a").on("click",function(t){t.preventDefault(),$('input[name="payment-method"]').val($(this).text())}),$(".quantity-plus").off().click(function(t){t.preventDefault();let e=$(this).attr("product-id"),a=$(this).prev(".qty");Number(a.val())<20&&a.val(Number(a.val())+1);let n=$(this);$.ajax({method:"GET",url:$(this).attr("url"),dataType:"json",data:{id:e,quantity:a.val()},success:function(t){t&&(n.parent().parent().next().children(".amount").text(t.product_price),$("#total-price").text(`${t.total_price} UZS`))}})}),$(".quantity-minus").off().click(function(t){t.preventDefault();let e=$(this).attr("product-id"),a=$(this).prev().prev();Number(a.val())>1&&a.val(Number(a.val())-1);let n=$(this);$.ajax({method:"GET",url:$(this).attr("url"),dataType:"json",data:{id:e,quantity:a.val()},success:function(t){t&&(n.parent().parent().next().children(".amount").text(`${t.product_price} UZS`),$("#total-price").text(`${t.total_price} UZS`))}})}),$('select[name="paginate"]').off().on("change",function(t){$("#left-filter").submit()}),$('input[name="category"], input[name="brand"], input[name="discount"], input[name="lising"]').off().on("click",function(t){$("#left-filter").submit()}),$('input[name="min_price"], input[name="max_price"]').on("focusout",function(t){$("#left-filter").submit()}),$(".btn-compare").off().on("click",function(t){t.preventDefault();let e=$(".qty").val();$(this).attr("href");$.ajax({method:"GET",url:$(this).attr("href"),data:{count:e},dataType:"json",success:function(t){t.success?($("#success_msg").text(t.message),$(this).removeClass("w-icon-compare")):$("#success_msg").text(t.message)}})}),$(".btn-wishlist").off().on("click",function(t){t.preventDefault(),$.ajax({method:"GET",url:$(this).attr("href"),data:{data:1},dataType:"json",success:function(t){t.success}})}),$(".fa-star").click(function(){$(this).prevAll().addClass("checked"),$(this).addClass("checked"),$(this).nextAll().removeClass("checked");const t=$(this).prevAll().length+1;$('input[name="review[rating]"]').val(t),$('input[name="review[rating]"]').val()?($("#submitComment").attr("disabled",!1),$("#rateWarning").fadeOut()):($("#submitComment").attr("disabled",!0),$("#rateWarning").show())}),$("#save-checkbox").off().on("click",function(){$(this).is(":checked")?($(".rating-author").fadeOut(),$(".rate-first").fadeOut()):($(".rating-author").fadeIn(),$(".rate-first").fadeIn())})});